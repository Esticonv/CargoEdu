#Сценарии

##1.Запрос расчёта возможных вариантов доставки

Клиент предоставляет данные о грузе, места отправки и доставки.
В ответ получает 0...3 варианта с указанием продолжительности доставки (время отправления, время прибытия), стоймости

UI -> DC [RMQ-GetResponse] запрос вариантов расчётов (in: from, to, cargo.size)
DC -> MM [HTTP] запрос свободных машин
MM -> DC [HTTP] возврат доступных машин и себестоймости
DC -- Расчёт вариантов и сохранение результатов
DC -> UI [RMQ-Respond] возврат вариантов расчётов (out[]: calculationId, deliveryTime, cost )

##2.Оформление заказа

Внутри повторный запрос через сервис расчёта для того чтобы клиент не мог подменить результаты

UI -> O  [RMQ-GetResponse] Запрос на оформление заказа (in: id выбранного варианта)
O  -> DC [HTTP] запрос результата расчётов (in: id)
DC -> O  [HTTP] возврат (out: calculationId, deliveryTime, cost)
O  -- Сохранение расчёта
O  -> UI [RMQ-Respond] возврат статуса что всё сделано


#Описание сервисов

##1.MachineManagerService (ММ)
###SchedulerService: BackgroundService
While loop с паузами по таймеру
MM.SD -> O [HTTP] Запрос заказов требующих обработки
	Для каждого:
	MM.SD -- Поиск машины, для которой был оформлен заказ (сценарий #2)
	MM.SD -- Добавление задачи на доставку для машины
	MM.SD -> O [RMQ-Publish] Обновление статуса заказа

##2.DeliveryCalculationService (DC)
###Pathfind
Поиск пути
(in: from, to) (out: segment{from, to, distance}[])